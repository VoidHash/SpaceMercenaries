
<!DOCTYPE html>
<html>
<head>
    <title>Space Mercenaries</title>
    <script src="lib/easeljs-0.7.1.min.js"></script>
    <script src="lib/tweenjs-0.5.1.min.js"></script>
    <script src="lib/soundjs-0.5.2.min.js"></script>
    <script src="lib/preloadjs-0.4.1.min.js"></script>
	
	<script src="lib/ndgmr.Collision.js"></script>
	<link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet">
</head>

<body onload="init()" style="margin: 5px">

<canvas id="canvas" width="800" height="600" style="border: black solid 1px"></canvas>

</body>

<script>

	const KEYCODE_LEFT = 37, 
		  KEYCODE_RIGHT = 39,
		  KEYCODE_UP = 38, 
		  KEYCODE_DOWN = 40,
		  SPACE_BAR = 32;
		  
	var leftKeyDown, rightKeyDown, upKeyDown, downKeyDown, spaceKeyDown = false;
		  
	var stage, queue, background, player, bullet, cd=0, time_stage = 0;
	var enemy01, enemy02, enemy03, enemy04, enemy05, spritesheet, explode, data_sprite, explode_fx;
	
	//Basic Bullet Stats
	var bullet01_stats = {offSetX:30, offSetY:30, damage:10, scaleX: 1.3, scaleY: 1.3, cd: 250}
	
	//Boss 01 Stats
	var boss_stats = {offSetX:30, offSetY:30, damage:10, scaleX: 0.5, scaleY: 0.5}
	
	//Enemies Stats
	var enemy_stats = {health: 30, damage: 10};
	
	//player status
	var player_stats = {health: 100, bullet:1}
	
	var score=0, score_text, health=100, health_txt, lives=3, lives_txt, high_score;
	
	var bg01, bg02;
	
	function init() {
	
		stage = new createjs.Stage(document.getElementById('canvas'));
		
		queue = new createjs.LoadQueue();
		queue.installPlugin(createjs.Sound);
		queue.addEventListener("complete", loadComplete);
		queue.loadManifest([
			{id:"background", src:"images/background.png"}
			
		]);
		
		
		function loadComplete() {
			assets_stage01();
			
			createjs.Ticker.addEventListener("tick", tick);
			createjs.Ticker.setFPS(60);
		}
		
		function assets_stage01(){
			// Set Background 
			var img = queue.getResult("background");
			background = new createjs.Bitmap(img);
			background.name = "background";
			background.y = -1200;
			//stage.addChild(background);
			bg01 = background.clone();
			bg01.addEventListener("tick", endAnimation);
			function endAnimation(event) {
				bg01.y= bg01.y + 1;
				console.log(bg01.y);
				if(bg01.y == 0){
					bg01.y = -1200;
				}
				
			}
			stage.addChild(bg01);
			bg02 = background.clone();
			bg02.y = 0;
			//stage.addChild(bg02);
		}
		
		function tick(e) {
			//stage01();
			stage.update();
		}
		
		function stage01(){
			
		}
    }

</script>

</html>